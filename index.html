<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Funny Prank App</title>
    <link rel="manifest" href="manifest.json">
    <style>
        body {
            font-family: Arial, sans-serif;
            background: linear-gradient(135deg, #ff9a9e, #fad0c4);
            text-align: center;
            padding-top: 80px;
            margin: 0;
        }

        .box {
            background: white;
            padding: 25px 20px;
            border-radius: 15px;
            width: 90%;
            max-width: 360px;
            margin: auto;
            box-shadow: 0 10px 25px rgba(0,0,0,0.2);
        }

        input {
            padding: 12px;
            width: 95%;
            margin-bottom: 15px;
            border-radius: 8px;
            border: 1px solid #ccc;
            font-size: 16px;
        }

        button {
            padding: 12px 25px;
            border: none;
            border-radius: 8px;
            background: #ff4b5c;
            color: white;
            cursor: pointer;
            font-size: 16px;
            width: 50%;
        }

        button:hover {
            background: #ff1e3c;
        }

        /* Toast notification style */
        .toast {
            position: fixed;
            bottom: 30px;
            right: 20px;
            background: rgba(0,0,0,0.85);
            color: white;
            padding: 15px 20px;
            border-radius: 8px;
            min-width: 200px;
            max-width: 300px;
            z-index: 1000;
            opacity: 0;
            transform: translateY(50px);
            transition: all 0.5s ease;
            word-wrap: break-word;
        }

        .toast.show {
            opacity: 1;
            transform: translateY(0);
        }

        @media (max-width: 400px) {
            input, button {
                font-size: 18px;
            }
        }
    </style>
</head>
<body>

    <div class="box">
        <h2 style="font-size: 22px;">Enter Your Name ðŸ˜Ž</h2>
        <input type="text" id="username" placeholder="Apna naam likho">
        <br>
        <button onclick="handleClick()">Next</button>
    </div>

<script>
    // -------------------
    // Notification & Kainat Logic
    // -------------------
    let kainatFirstTime = true;
    let lastClickTime = 0;

    // Request notification permission
    if('Notification' in window){
        if(Notification.permission !== "granted"){
            Notification.requestPermission();
        }
    }

    function handleClick(){
        let name = document.getElementById("username").value.trim();
        let currentTime = new Date().getTime();

        if(name === ""){
            alert("Pehle apna naam to likho ðŸ˜‚");
            return;
        }

        let message = "";

        // Special Kainat logic
        if(name.toLowerCase() === "kainat"){
            if(currentTime - lastClickTime < 1000){
                message = "ðŸš— Aray baji kya hogaya? Web hai tumhari gari ka horn nahi jo baar baar daba rahi ho ðŸ˜‚";
            } else if(kainatFirstTime){
                message = "ðŸ˜œ Ye bauny logon ke liye nahi hai!";
                kainatFirstTime = false;
            }
        }

        // Random messages for others
        if(message === ""){
            let messages = [
                "You lost a chance to hug me ðŸ˜œ",
                "You lost 1000 PKR from your wallet ðŸ’¸",
                "Your phone battery is now 1% ðŸ”‹",
                "FBI is watching you ðŸš¨",
                "You missed free biryani ðŸ›",
                "Your internet speed is now 2G ðŸ¢",
                "You forgot your ATM pin ðŸ’³",
                "Aliens are tracking you ðŸ‘½",
                "You dropped your invisible crown ðŸ‘‘",
                "You lost a chance to kiss your crush ðŸ˜˜ðŸ’”"
            ];

            let funnyThings = [
                "lost your last brain cell ðŸ§ ",
                "accidentally sent 'I love you' to your teacher ðŸ˜‚",
                "wallet is crying silently ðŸ˜­",
                "tea got cold â˜•",
                "SIM balance finished ðŸ“µ",
                "Hum bore ho rahy hain thora naach ky tw dikhao",
                "Aby ooo janwar ki shakal ky",
                "eeee chal chal chal",
               "Aby oo sasur ky nati aisa kantap bajengy naw sari akal tikhany ajayegi",
                "pizza fell upside down ðŸ•",
                "missed 10 calls from Ammi ðŸ“ž",
                "camera opened automatically ðŸ“·",
                "forgot your phone password ðŸ”",
                "posted an embarrassing status ðŸ˜†"
            ];

            for(let i=0;i<100;i++){
                let r = funnyThings[Math.floor(Math.random()*funnyThings.length)];
                messages.push("ðŸ˜† "+name+", You just "+r+"!");
            }

            message = messages[Math.floor(Math.random()*messages.length)];
        }

        lastClickTime = currentTime;

        // Show system notification if permitted
        if('Notification' in window && Notification.permission === "granted"){
            new Notification("Funny Prank", {body: message, icon:"icon-192.png"});
        } else {
            // fallback toast inside web
            let toast = document.createElement("div");
            toast.className = "toast";
            toast.innerText = message;
            document.body.appendChild(toast);
            setTimeout(()=>{ toast.classList.add("show"); },50);
            setTimeout(()=>{
                toast.classList.remove("show");
                setTimeout(()=>{ toast.remove(); },500);
            },3000);
        }
    }
</script>

</body>
</html>
